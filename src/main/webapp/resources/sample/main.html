<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><MAIN></MAIN></title>

    <!-- jQuery 3.7.1-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <!-- Gmarket SANS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonts-archive/GmarketSans/GmarketSans.css" type="text/css"/>
    <!-- NotoSans KR-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- bxSlider SDK -->
    <link rel="stylesheet" href="css/jquery.bxslider.css">
    <script src="https://cdn.jsdelivr.net/npm/bxslider@4.2.17/dist/jquery.bxslider.min.js"></script>
    <!-- 기본 템플릿 CSS -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/main.css">
    

</head>

<body>

    <!-- 모달 창 -->
    <div class="modal">
        <div class="modal_body">
            <h2>제목</h2>
            <p>내용 </p>
        </div>
    </div>

<div id="backcontainer" class="boxv">

<!-- 헤더 : main logo, user status -->

<header id="header" class="boxh">
    <div class="boxh headerbar">
        <a href="#">
            <div class="boxh title">
                <img id="logo" src="img/logo.svg">
                <h1> TimePill </h1>
            </div>
        </a> 
        <div class="boxh logout">
            <a href="#">
                <img src="img/logout.png" alt="로그아웃" style="width: 35px;">
            </a>
        </div>
    </div>
</header>


<!-- 컨텐츠 -->

<div id="contents" class="">
    
    <!-- 안내 박스-->
    <div class="greeting boxh">
        <h3 class="greetingdesc"> 
            <span class="hilightdesc">오석영</span> 님, <br>
            오늘의 복약정보를 확인하세요!
        </h3>
        <img class="fadein" src="img/pill.png" style="width: 70px; margin-left: 5%;">
    </div>

    <!-- 날짜 표기 -->
    <div class="datebox boxh" style="height: 15%;">
        <h3 class="hilightdesc" style="margin-right: 3%;"> 2024. 10. 10 </h3>
        <div class="round-btn boxh" style="margin: 0;">
            <img class="calender" src="img/calender.png" style="width: 20px;"> 
        </div>
    </div>
    <div class="slider-container boxh">

        <!-- 이전 버튼 -->
        <div class="prev">
        </div>

        
        <div class="bxslider">

            <div class="card">

                <div class="boxv">
                    <h1 style="color: white; text-align: center; margin: 18px;"> 아침약 </h1>

                    <div class="whiteround boxh">
                        <input name="time" type="time" value="12:00"> <p class="alarmdesc gsasdw"> 알림 </p> 
                        <img class="btn-spring" src="img/gear.png" style="width: 28px;"> 
                    </div>


                    <div class="">
                        <ul class="medlist">
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 당뇨약 </label>
                            </li>
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 혈압약 </label>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>



            <div class="card">

                <div class="boxv">
                    <h1 style="color: white; text-align: center; margin: 18px;"> 아침약 </h1>

                    <div class="whiteround boxh">
                        <input name="time" type="time" value="12:00"> <p class="alarmdesc gsasdw"> 알림 </p> 
                        <img class="btn-spring" src="img/gear.png" style="width: 28px;"> 
                    </div>


                    <div class="">
                        <ul class="medlist">
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 당뇨약 </label>
                            </li>
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 혈압약 </label>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>

            <div class="card">

                <div class="boxv">
                    <h1 style="color: white; text-align: center; margin: 18px;"> 아침약 </h1>

                    <div class="whiteround boxh">
                        <input name="time" type="time" value="12:00"> <p class="alarmdesc gsasdw"> 알림 </p> 
                        <img class="btn-spring" src="img/gear.png" style="width: 28px;"> 
                    </div>


                    <div class="">
                        <ul class="medlist">
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 당뇨약 </label>
                            </li>
                            <li class="medlist-detail">
                                <input type="checkbox" name="" value="">
                                <label class="label"> 혈압약 </label>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>

            <div class="card">
                <div class="boxv">
                    <h1 style="color: white; text-align: center; margin: 18px;"> 취침전 </h1>

                    <div class="whiteround boxh">
                        <input name="time" type="time" value="12:00"> <p class="alarmdesc gsasdw"> 알림 </p> 
                        <img class="btn-spring" src="img/gear.png" style="width: 28px;"> 
                    </div>

                    <p class="alarmask"> 지금 알림을 등록해보세요! </p> 

                    <a href="#" class="white-btn">
                        <div class="boxh">
                            <img id="logo" src="img/logo.svg" style="width: 30px; margin: 0;">
                            <p style="margin-left: 5px;">알림 등록하기 </p>
                        </div>
                    </a>

                </div>
            </div>

        </div>

        <!-- 다음 버튼-->
        <div class="next">
        </div>
    </div>


    <!-- 카카오톡 알림 받기 신청 -->
     <div  class="boxh kakaobox">
        <div>
            <p class="caption"> 더 쉽고 빠르게 복용 알림을 받고 싶다면? </p>
             <span class="kakao-span boxh"> <img src="img/kakao.png" width="15px"> 카카오톡 알림 받기 </span>
        </div>
        <div>
            <input type="checkbox" id="toggle" hidden> 
            <label for="toggle" class="toggleSwitch">
            <span class="toggleButton"></span>
            </label>
        </div>
    </div>

</div>


    
    
    <!-- 푸터 : nav -->
    <nav id="mainmenu" class="">
        <ul class="menu">
            <li>
                <a href="#">
                    <div class="boxv">
                        <img id="logo" src="img/sched.png" style="width: 50px;">
                        <a href="#"> 스케줄 </a>
                    </div>
                </a>
            </li>
            <li>
                <a href="#">
                    <div class="boxv">
                        <img id="logo" src="img/medmng.png" style="width: 50px;">
                        <a href="#"> 복약관리 </a>
                    </div>
                </a>
            </li>
            <li>
                <a href="#">
                    <div class="boxv">
                        <img id="logo" src="img/myinfo.png" style="width: 50px;">
                        <a href="#"> 내 정보 </a>
                    </div>
                </a>
            </li>
            <li>
                <a href="#">
                    <div class="boxv">
                        <img id="logo" src="img/notice.png" style="width: 50px;">
                        <a href="#"> 공지사항 </a>
                    </div>
                </a>
            </li>
        </ul>
    </nav>
</div>


<script>
    $(function () {

        const windowWidth = $(window).width();
        let imgSize;
        
        function bxWitdth() {
            if (windowWidth > 360) {
                return 330; // 데스크탑 크기일 때
            } else {
                return 280; // 모바일 크기일 때
            }
        }

        function adjustButtonSize() {
            if (windowWidth > 360) {
                imgSize = '60px'; // 데스크탑
            } else {
                imgSize = '30px'; // 모바일
            }
        }

        // 버튼 크기를 조정하는 함수 호출
        adjustButtonSize();

        const slider = $('.bxslider').bxSlider({
            mode: 'horizontal',
            slideWidth: bxWitdth(),
            infiniteLoop: true,
            nextSelector: '.next',
            touchEnabled : false,
            prevSelector: '.prev',
            onSliderLoad: function () {
                // prev 버튼 처리
                const prevLink = document.querySelector('.prev .bx-prev');
                if (prevLink) {
                    prevLink.textContent = ''; // Prev 텍스트 제거
                    const prevImgElement = document.createElement('img');
                    prevImgElement.src = 'img/left.png'; // prev 이미지 경로
                    prevImgElement.style.width = imgSize;
                    prevLink.appendChild(prevImgElement);
                }

                // next 버튼 처리
                const nextLink = document.querySelector('.next .bx-next');
                if (nextLink) {
                    nextLink.textContent = ''; // Next 텍스트 제거
                    const nextImgElement = document.createElement('img');
                    nextImgElement.src = 'img/right.png'; // next 이미지 경로
                    nextImgElement.style.width = imgSize;
                    nextLink.appendChild(nextImgElement);
                }

                // viewport  처리
                const wid = document.querySelector('.bx-viewport');
                if (wid) {
                    wid.style.width = '102%';
                }
            },
        });
    });
</script>

<script>
    $(function () {
        // btn-spring 클래스를 가진 이미지들에 대해 클릭 이벤트 리스너 추가
        const timePickImages = document.querySelectorAll('.btn-spring');
        
        // 각 이미지에 대해 클릭 이벤트 리스너 추가
        timePickImages.forEach((img) => {
            img.addEventListener('click', function(event) {
                // 이미지를 클릭했을 때, 같은 부모 요소 내에 있는 input[type="time"] 요소를 찾음
                const timeInput = this.closest('.boxh').querySelector('input[type="time"]');
                
                // time input이 존재하면 시간을 선택할 수 있는 팝업을 띄움
                if (timeInput) {
                    timeInput.showPicker();  // 시간 선택 팝업 띄우기
                }
            });
        });
    });
</script>

<script>
 // 페이지가 로드되었을 때
 window.onload = function() {
            const fadeInElement = document.querySelector('.fadein');
            fadeInElement.style.opacity = '1'; 
        };
</script>

<script>
    // 모달 열기 
    const modal = document.querySelector('.modal');
    const btnOpenModal=document.querySelector('.round-btn');

    btnOpenModal.addEventListener("click", ()=>{ modal.style.display="flex"; });

    // 모달 외부를 클릭했을 때 모달 닫기
    modal.addEventListener("click", (event) => {
    // 클릭한 요소가 모달 바디가 아닌 경우
    if (event.target === modal) {
            modal.style.display = "none"; // 모달 닫기
        }   
    });
</script>

</body>
</html>